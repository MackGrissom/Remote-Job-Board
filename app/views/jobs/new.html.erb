<div class="flex h-screen bg-gray-100">
  <!-- Left side: Job Posting Form -->
  <div class="w-1/2 p-8 bg-white shadow-lg overflow-y-auto">
    <h1 class="text-2xl font-bold mb-4">Post a New Job</h1>
    
    <%= form_with(model: @job, local: true, class: "space-y-4") do |form| %>
      <div class="mb-4">
        <%= form.label :title, "Job Title", class: "block text-sm font-medium text-gray-700" %>
        <%= form.text_field :title, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" %>
      </div>

      <div class="mb-4">
        <%= form.label :company, "Company", class: "block text-sm font-medium text-gray-700" %>
        <%= form.text_field :company, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" %>
      </div>

      <div class="mb-4">
        <%= form.label :job_type, "Job Type", class: "block text-sm font-medium text-gray-700" %>
        <%= form.hidden_field :job_type, value: 'Remote' %>
        <p class="mt-1 text-sm text-gray-500">This job is remote</p>
      </div>

      <div class="mb-4">
        <%= form.label :industry, "Industry", class: "block text-sm font-medium text-gray-700" %>
        <%= form.select :industry, options_for_select(industry_options_with_emoji), { prompt: "Select an industry" }, class: "mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md" %>
      </div>

      <!-- Add other necessary fields like description, salary, etc. -->

      <%= form.submit "Post Job", class: "px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600" %>
    <% end %>
  </div>
  
  <!-- Right side: Information and Imagery -->
  <div class="w-1/2 bg-indigo-700 text-white p-8 flex flex-col justify-between" style="background-image: url('https://images.unsplash.com/photo-1601436155198-2ebfea8117b0?q=80&w=2535&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'); background-size: cover; background-position: center;">
    <div class="bg-black bg-opacity-50 p-6 rounded-lg">
      <h2 class="text-2xl font-bold mb-4">Why Post on Freely?</h2>
      <ul class="space-y-2">
        <li class="flex items-center">
          <svg class="w-5 h-5 mr-2 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
          <span class="text-sm">Access to a large pool of remote talent</span>
        </li>
        <li class="flex items-center">
          <svg class="w-5 h-5 mr-2 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
          <span class="text-sm">30-day listing visibility</span>
        </li>
        <li class="flex items-center">
          <svg class="w-5 h-5 mr-2 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
          <span class="text-sm">Featured listings for increased exposure</span>
        </li>
        <li class="flex items-center">
          <svg class="w-5 h-5 mr-2 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
          <span class="text-sm">Reach thousands of qualified candidates</span>
        </li>
      </ul>
      <div class="bg-black bg-opacity-50 p-6 rounded-lg mt-10">
      <h3 class="text-xl font-semibold mb-2">Need help?</h3>
      <p class="text-sm">Contact our support team at <a href="mailto:support@example.com" class="text-green-400 hover:underline">support@example.com</a></p>
    </div>
    </div>
    
  </div>
</div>

<script src="https://js.stripe.com/v3/"></script>
<script>
  // Initialize Stripe and mount the payment element
  const stripe = Stripe('<%= Rails.configuration.stripe[:publishable_key] %>');
  const elements = stripe.elements();
  const paymentElement = elements.create('payment');
  paymentElement.mount('#stripe-payment-element');

  // Handle form submission
  const form = document.querySelector('form');
  const submitButton = document.getElementById('submit-button');

  form.addEventListener('submit', async (event) => {
    event.preventDefault();
    submitButton.disabled = true;

    const { error } = await stripe.confirmPayment({
      elements,
      confirmParams: {
        return_url: '<%= jobs_url %>',
      },
    });

    if (error) {
      console.error(error);
      submitButton.disabled = false;
    } else {
      form.submit();
    }
  });
</script>
